<view class="page">
    <!-- 分类菜单 -->
    <view class="category-menu">
        <!-- 每个分类对应的英文文件名 -->
        <view class="category-item" bindtap="filterShops" data-category="营养早餐">
            <image class="category-image" src="/asserts/images/takeaway/breakfast.png" />
            <text>营养早餐</text>
        </view>
        <view class="category-item" bindtap="filterShops" data-category="经典美食">
            <image class="category-image" src="/asserts/images/takeaway/classic.png" />
            <text>经典美食</text>
        </view>
        <view class="category-item" bindtap="filterShops" data-category="烧烤串">
            <image class="category-image" src="/asserts/images/takeaway/bbq.png" />
            <text>烧烤串</text>
        </view>
        <view class="category-item" bindtap="filterShops" data-category="甜点饮品">
            <image class="category-image" src="/asserts/images/takeaway/dessert.png" />
            <text>甜点饮品</text>
        </view>
    </view>

    <!-- 筛选栏 -->
    <view class="filter-bar">
        <text class="filter-item" bindtap="sortShops" data-sort="综合排序">综合排序</text>
        <text class="filter-item" bindtap="sortShops" data-sort="销量最高">销量最高</text>
        <text class="filter-item" bindtap="sortShops" data-sort="口碑最好">口碑最好</text>
    </view>

    <!-- 商家列表 -->
    <view class="shop-list">
        <block wx:for="{{filteredShops}}" wx:key="name">
            <view class="shop-container">
                <view class="shop-item">
                    <image class="shop-logo" src="{{item.logo}}" />
                    <view class="shop-info">
                        <text class="shop-name">{{item.name}}</text>
                        <text class="shop-description">{{item.description}}</text>
                        <view class="shop-stats">
                            <text>月售 {{item.monthlySales}}</text>
                            <text>配送费 ￥{{item.deliveryFee}}</text>
                        </view>
                        <view class="shop-tags">
                            <text wx:for="{{item.tags}}" wx:key="tag" class="shop-tag">{{tag}}</text>
                        </view>
                    </view>
                    <text class="shop-rating">{{item.rating}} 分</text>
                </view>

                <view class="product-list">
                    <block wx:for="{{item.products}}" wx:key="productName">
                        <view class="product-item">
                            <image class="product-image" src="{{item.image}}" />
                            <view class="product-info">
                                <text class="product-name">{{item.name}}</text>
                                <text class="product-price">￥{{item.price}}</text>
                            </view>
                        </view>
                    </block>
                </view>
            </view>
        </block>
    </view>
    <navigator url="/pages/map/map" >开始导航</navigator>
</view>